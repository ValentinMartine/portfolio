<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Projet SantÃ©</title>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    #quiz-section, #result-section { display: none; }
    #reponse { margin-top: 20px; font-weight: bold; }
    .explication { margin-top: 10px; }
    #next-btn { margin-top: 20px; }
    #score { font-size: 1.2em; margin-top: 30px; }
  </style>
</head>
<body>
  <!-- Un seul bouton visible au dÃ©part -->
  <div id="start-section">
    <button onclick="demarrerQuiz()">Commencer le quiz</button>
  </div>

  <!-- Quiz -->
  <section id="quiz-section">
    <h3 id="question"></h3>
    <ul id="reponses"></ul>
    <div id="reponse"></div>
    <div class="explication" id="explication"></div>
    <button id="next-btn" onclick="questionSuivante()" style="display:none;">Question suivante</button>
  </section>

  <!-- RÃ©sultat final -->
  <section id="result-section">
    <div id="score"></div>
    <button onclick="restartQuiz()">Recommencer le quiz</button>
  </section>

  <script>
    // Liste des questions du quiz
    const questions = [
      {
        question: "Quel est le principe actif du Doliprane ?",
        reponses: [
          { text: "IbuprofÃ¨ne", correct: false, explication: "L'ibuprofÃ¨ne est le principe actif de l'Advil ou du Nurofen." },
          { text: "ParacÃ©tamol", correct: true, explication: "Bonne rÃ©ponse ! Le principe actif du Doliprane est le paracÃ©tamol." },
          { text: "Aspirine", correct: false, explication: "L'aspirine est un autre antalgique, mais ce nâ€™est pas celui du Doliprane." }
        ]
      },
      {
        question: "L'aspirine appartient Ã  la classe des :",
        reponses: [
          { text: "Antibiotiques", correct: false, explication: "Non, l'aspirine n'est pas un antibiotique." },
          { text: "Anti-inflammatoires non stÃ©roÃ¯diens (AINS)", correct: true, explication: "Bonne rÃ©ponse ! L'aspirine est un AINS." },
          { text: "Antiviraux", correct: false, explication: "Non, l'aspirine n'est pas un antiviral." }
        ]
      },
      {
        question: "Le paracÃ©tamol est principalement utilisÃ© pour :",
        reponses: [
          { text: "RÃ©duire la fiÃ¨vre et soulager la douleur", correct: true, explication: "Bonne rÃ©ponse ! Le paracÃ©tamol est un antalgique et antipyrÃ©tique." },
          { text: "Soigner une infection bactÃ©rienne", correct: false, explication: "Non, le paracÃ©tamol ne traite pas les infections bactÃ©riennes." },
          { text: "Traiter les allergies", correct: false, explication: "Non, le paracÃ©tamol n'est pas un antiallergique." }
        ]
      }
    ];

    let currentQuestion = 0;
    let score = 0;

    function demarrerQuiz() {
      document.getElementById('start-section').style.display = 'none';
      document.getElementById('result-section').style.display = 'none';
      document.getElementById('quiz-section').style.display = 'block';
      currentQuestion = 0;
      score = 0;
      afficherQuestion();
    }

    function afficherQuestion() {
      const q = questions[currentQuestion];
      document.getElementById('question').textContent = q.question;
      const ul = document.getElementById('reponses');
      ul.innerHTML = "";
      q.reponses.forEach((rep, idx) => {
        const li = document.createElement('li');
        const btn = document.createElement('button');
        btn.textContent = rep.text;
        btn.onclick = () => repondre(idx);
        btn.disabled = false;
        li.appendChild(btn);
        ul.appendChild(li);
      });
      document.getElementById('reponse').textContent = "";
      document.getElementById('explication').textContent = "";
      document.getElementById('next-btn').style.display = "none";
    }

    function repondre(idx) {
      const q = questions[currentQuestion];
      // DÃ©sactive tous les boutons
      Array.from(document.querySelectorAll('#reponses button')).forEach(btn => btn.disabled = true);

      const bonne = q.reponses[idx].correct;
      if (bonne) {
        document.getElementById('reponse').textContent = "Bonne rÃ©ponse ! ðŸŽ‰";
        document.getElementById('reponse').style.color = "green";
        score++;
      } else {
        document.getElementById('reponse').textContent = "Mauvaise rÃ©ponse. ðŸ˜¢";
        document.getElementById('reponse').style.color = "red";
      }
      document.getElementById('explication').textContent = q.reponses[idx].explication;
      document.getElementById('next-btn').style.display = "inline-block";
    }

    function questionSuivante() {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        afficherQuestion();
      } else {
        afficherScore();
      }
    }

    function afficherScore() {
      document.getElementById('quiz-section').style.display = 'none';
      document.getElementById('result-section').style.display = 'block';
      document.getElementById('score').innerHTML =
        "Votre score : <strong>" + score + " / " + questions.length + "</strong>";
    }

    function restartQuiz() {
      demarrerQuiz();
    }
  </script>
</body>
</html>
